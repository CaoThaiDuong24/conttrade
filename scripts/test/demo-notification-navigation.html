<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Notification Navigation Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    
    .header {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    
    .subtitle {
      color: #666;
      font-size: 14px;
    }
    
    .notification-types {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    h2 {
      color: #333;
      margin-bottom: 15px;
      font-size: 18px;
    }
    
    .notification-item {
      display: flex;
      align-items: start;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }
    
    .notification-item:hover {
      background: #f9f9f9;
      transform: translateX(4px);
    }
    
    .notification-item.unread {
      background: #eff6ff;
      border-color: #3b82f6;
    }
    
    .icon {
      font-size: 32px;
      flex-shrink: 0;
    }
    
    .icon.blue { color: #3b82f6; }
    .icon.green { color: #10b981; }
    .icon.emerald { color: #059669; }
    .icon.red { color: #ef4444; }
    .icon.purple { color: #8b5cf6; }
    .icon.yellow { color: #f59e0b; }
    
    .content {
      flex: 1;
    }
    
    .title {
      font-weight: 600;
      color: #111;
      margin-bottom: 4px;
    }
    
    .message {
      font-size: 13px;
      color: #666;
      margin-bottom: 4px;
    }
    
    .time {
      font-size: 12px;
      color: #999;
    }
    
    .badge {
      width: 8px;
      height: 8px;
      background: #3b82f6;
      border-radius: 50%;
      flex-shrink: 0;
      margin-top: 6px;
    }
    
    .nav-path {
      font-size: 12px;
      color: #8b5cf6;
      font-family: 'Courier New', monospace;
      margin-top: 4px;
    }
    
    .flow-diagram {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    
    .flow-step {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px;
      margin-bottom: 8px;
    }
    
    .step-number {
      width: 30px;
      height: 30px;
      background: #667eea;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }
    
    .step-text {
      color: #333;
    }
    
    .arrow {
      text-align: center;
      color: #999;
      font-size: 20px;
      margin: 5px 0;
    }
    
    .demo-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: inline-block;
      text-decoration: none;
    }
    
    .demo-button:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }
    
    .info-box {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 12px;
      border-radius: 4px;
      margin-top: 15px;
    }
    
    .info-box strong {
      color: #92400e;
    }
    
    .info-box p {
      color: #78350f;
      font-size: 13px;
      margin-top: 4px;
    }
    
    .console-log {
      background: #1e1e1e;
      color: #4af626;
      padding: 12px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      margin-top: 10px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <h1>üîî Notification Navigation Demo</h1>
      <p class="subtitle">Click v√†o notification ƒë·ªÉ xem chi ti·∫øt v√† navigate ƒë·∫øn trang t∆∞∆°ng ·ª©ng</p>
    </div>
    
    <!-- Notification Types -->
    <div class="notification-types">
      <h2>üìã C√°c lo·∫°i Notification</h2>
      
      <!-- RFQ Received -->
      <div class="notification-item unread" onclick="simulateClick('rfq_received', '/vi/rfq/received/rfq-123')">
        <div class="icon blue">üìã</div>
        <div class="content">
          <div class="title">Y√™u c·∫ßu b√°o gi√° m·ªõi</div>
          <div class="message">Nguy·ªÖn VƒÉn A ƒë√£ g·ª≠i y√™u c·∫ßu b√°o gi√° cho Container 20ft</div>
          <div class="time">5 gi·ªù tr∆∞·ªõc</div>
          <div class="nav-path">‚Üí /vi/rfq/received/rfq-123</div>
        </div>
        <div class="badge"></div>
      </div>
      
      <!-- Quote Received -->
      <div class="notification-item unread" onclick="simulateClick('quote_received', '/vi/rfq/sent/rfq-456')">
        <div class="icon green">üí∞</div>
        <div class="content">
          <div class="title">B√°o gi√° m·ªõi</div>
          <div class="message">C√¥ng ty XYZ ƒë√£ g·ª≠i b√°o gi√° cho y√™u c·∫ßu c·ªßa b·∫°n</div>
          <div class="time">2 gi·ªù tr∆∞·ªõc</div>
          <div class="nav-path">‚Üí /vi/rfq/sent/rfq-456</div>
        </div>
        <div class="badge"></div>
      </div>
      
      <!-- Quote Accepted -->
      <div class="notification-item" onclick="simulateClick('quote_accepted', '/vi/orders/order-789')">
        <div class="icon emerald">‚úÖ</div>
        <div class="content">
          <div class="title">B√°o gi√° ƒë∆∞·ª£c ch·∫•p nh·∫≠n</div>
          <div class="message">Nguy·ªÖn Th·ªã B ƒë√£ ch·∫•p nh·∫≠n b√°o gi√° c·ªßa b·∫°n</div>
          <div class="time">1 ng√†y tr∆∞·ªõc</div>
          <div class="nav-path">‚Üí /vi/orders/order-789</div>
        </div>
      </div>
      
      <!-- Quote Rejected -->
      <div class="notification-item" onclick="simulateClick('quote_rejected', '/vi/quotes/quote-321')">
        <div class="icon red">‚ùå</div>
        <div class="content">
          <div class="title">B√°o gi√° b·ªã t·ª´ ch·ªëi</div>
          <div class="message">Tr·∫ßn VƒÉn C ƒë√£ t·ª´ ch·ªëi b√°o gi√° c·ªßa b·∫°n</div>
          <div class="time">3 ng√†y tr∆∞·ªõc</div>
          <div class="nav-path">‚Üí /vi/quotes/quote-321</div>
        </div>
      </div>
      
      <!-- Order Created -->
      <div class="notification-item unread" onclick="simulateClick('order_created', '/vi/orders/order-654')">
        <div class="icon purple">üì¶</div>
        <div class="content">
          <div class="title">ƒê∆°n h√†ng m·ªõi</div>
          <div class="message">ƒê∆°n h√†ng #ORD-654 ƒë√£ ƒë∆∞·ª£c t·∫°o th√†nh c√¥ng</div>
          <div class="time">V·ª´a xong</div>
          <div class="nav-path">‚Üí /vi/orders/order-654</div>
        </div>
        <div class="badge"></div>
      </div>
      
      <!-- Payment Received -->
      <div class="notification-item" onclick="simulateClick('payment_received', '/vi/orders/order-987')">
        <div class="icon yellow">üíµ</div>
        <div class="content">
          <div class="title">ƒê√£ nh·∫≠n thanh to√°n</div>
          <div class="message">Thanh to√°n cho ƒë∆°n h√†ng #ORD-987 ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n</div>
          <div class="time">2 ng√†y tr∆∞·ªõc</div>
          <div class="nav-path">‚Üí /vi/orders/order-987</div>
        </div>
      </div>
      
      <div class="info-box">
        <strong>üí° C√°ch ho·∫°t ƒë·ªông:</strong>
        <p>Click v√†o notification ‚Üí ƒê√≥ng dropdown ‚Üí Mark as read ‚Üí Navigate to detail page</p>
      </div>
    </div>
    
    <!-- Flow Diagram -->
    <div class="flow-diagram">
      <h2>üîÑ User Flow</h2>
      
      <div class="flow-step">
        <div class="step-number">1</div>
        <div class="step-text">User click v√†o notification item</div>
      </div>
      <div class="arrow">‚Üì</div>
      
      <div class="flow-step">
        <div class="step-number">2</div>
        <div class="step-text">Dropdown ƒë√≥ng l·∫°i</div>
      </div>
      <div class="arrow">‚Üì</div>
      
      <div class="flow-step">
        <div class="step-number">3</div>
        <div class="step-text">Call API: POST /notifications/{id}/read</div>
      </div>
      <div class="arrow">‚Üì</div>
      
      <div class="flow-step">
        <div class="step-number">4</div>
        <div class="step-text">Update local state (remove unread badge)</div>
      </div>
      <div class="arrow">‚Üì</div>
      
      <div class="flow-step">
        <div class="step-number">5</div>
        <div class="step-text">Navigate to detail page (router.push)</div>
      </div>
      <div class="arrow">‚Üì</div>
      
      <div class="flow-step">
        <div class="step-number">6</div>
        <div class="step-text">User xem chi ti·∫øt RFQ/Quote/Order</div>
      </div>
      
      <div id="console" class="console-log" style="display: none;"></div>
    </div>
    
    <!-- Back to App -->
    <div class="flow-diagram" style="text-align: center;">
      <h2>‚úÖ Ready to Test</h2>
      <p style="color: #666; margin: 10px 0;">
        Refresh trang ch√≠nh v√† test v·ªõi notification th·∫≠t
      </p>
      <a href="http://localhost:3000" class="demo-button">
        üöÄ Quay l·∫°i App
      </a>
    </div>
  </div>
  
  <script>
    function simulateClick(type, path) {
      const consoleDiv = document.getElementById('console');
      consoleDiv.style.display = 'block';
      
      const logs = [
        `üì¨ Notification clicked: { type: "${type}", ... }`,
        `‚ùå Closing dropdown...`,
        `üì° POST /api/v1/notifications/xxx/read`,
        `‚úÖ Marked notification as read`,
        `üîó Navigating to: ${path}`,
        `üéØ Page loaded successfully`
      ];
      
      consoleDiv.innerHTML = '';
      
      logs.forEach((log, index) => {
        setTimeout(() => {
          const line = document.createElement('div');
          line.textContent = log;
          consoleDiv.appendChild(line);
          consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }, index * 300);
      });
      
      // Remove unread style
      setTimeout(() => {
        event.target.closest('.notification-item').classList.remove('unread');
        const badge = event.target.closest('.notification-item').querySelector('.badge');
        if (badge) badge.remove();
      }, 1000);
    }
  </script>
</body>
</html>
