<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Driver.js Test - Minimal</title>
  <script src="https://cdn.jsdelivr.net/npm/driver.js@1.3.6/dist/driver.js.iife.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.3.6/dist/driver.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      background: #f5f5f5;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 8px;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button {
      padding: 12px 24px;
      background: #3b82f6;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Test Driver.js - MINIMAL</h1>
    <p>Test n√∫t X v√† Done button</p>
    
    <div>
      <label>Email</label>
      <input type="email" id="email" placeholder="test@example.com">
    </div>
    
    <div>
      <label>Password</label>
      <input type="password" id="password" placeholder="password">
    </div>
    
    <button id="start-tour">Start Tour</button>
  </div>

  <script>
    console.log('Driver.js version:', window.driver);
    
    document.getElementById('start-tour').addEventListener('click', () => {
      console.log('=== STARTING MINIMAL TOUR ===');
      
      const driverObj = window.driver({
        showProgress: true,
        showButtons: ['next', 'previous', 'close'],
        progressText: 'Step {{current}}/{{total}}',
        nextBtnText: 'Next',
        prevBtnText: 'Previous',
        doneBtnText: 'Done',
        animate: true,
        allowClose: true,
        
        onDestroyStarted: () => {
          console.log('‚úÖ onDestroyStarted called!');
        },
        
        onDestroyed: () => {
          console.log('‚úÖ onDestroyed called!');
        },
      });
      
      const steps = [
        {
          popover: {
            title: 'Welcome',
            description: 'Click X button (top right) or Done button to close. Check console for logs.',
          }
        },
        {
          element: '#email',
          popover: {
            title: 'Email',
            description: 'This is step 2.',
            side: 'bottom',
          }
        },
        {
          element: '#password',
          popover: {
            title: 'Password',
            description: 'LAST STEP - Done button should appear. Try clicking it!',
            side: 'bottom',
          }
        },
      ];
      
      driverObj.setSteps(steps);
      driverObj.drive();
      
      console.log('Driver object:', driverObj);
      console.log('Is active:', driverObj.isActive());
      
      // Store globally for debugging
      window.testDriver = driverObj;
      console.log('üí° You can now use: window.testDriver.destroy()');
    });
    
    // Manual destroy function
    window.manualDestroy = () => {
      if (window.testDriver) {
        console.log('üî® Calling destroy() manually...');
        window.testDriver.destroy();
      } else {
        console.log('‚ùå No active driver instance');
      }
    };
    
    console.log('‚úÖ Ready! Click "Start Tour" button');
    console.log('üêõ If buttons dont work, run: window.manualDestroy()');
  </script>
</body>
</html>
