# ğŸ“‹ HÆ°á»›ng Dáº«n TÃ i Khoáº£n Demo

## ğŸ¯ Tá»•ng Quan

Há»‡ thá»‘ng i-ContExchange hiá»‡n cÃ³ **8 tÃ i khoáº£n demo** vá»›i cÃ¡c vai trÃ² khÃ¡c nhau Ä‘á»ƒ test chá»©c nÄƒng vÃ  phÃ¢n quyá»n.

**Táº¥t cáº£ tÃ i khoáº£n Ä‘á»u sá»­ dá»¥ng máº­t kháº©u:** `123456`

---

## ğŸ‘¥ Danh SÃ¡ch TÃ i Khoáº£n Demo

### 1. ğŸ‘‘ **Admin** - Quáº£n Trá»‹ Há»‡ Thá»‘ng
- **Email:** `admin@i-contexchange.vn`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Admin
- **Quyá»n háº¡n:** Truy cáº­p Ä‘áº§y Ä‘á»§ toÃ n bá»™ há»‡ thá»‘ng
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified
- **MÃ´ táº£:** TÃ i khoáº£n quáº£n trá»‹ viÃªn cáº¥p cao nháº¥t vá»›i quyá»n truy cáº­p vÃ  quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng

---

### 2. ğŸ›’ **Buyer** - NgÆ°á»i Mua (ÄÃ£ XÃ¡c Minh)
- **Email:** `buyer@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Buyer
- **Quyá»n háº¡n:** Xem, tÃ¬m kiáº¿m, mua container
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified, KYC Approved
- **MÃ´ táº£:** NgÆ°á»i mua Ä‘Ã£ hoÃ n táº¥t xÃ¡c minh vÃ  cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c giao dá»‹ch mua

---

### 3. ğŸª **Seller** - NgÆ°á»i BÃ¡n (ÄÃ£ XÃ¡c Minh)
- **Email:** `seller@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Seller
- **Quyá»n háº¡n:** ÄÄƒng tin, quáº£n lÃ½ container, xem bÃ¡o cÃ¡o
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified
- **MÃ´ táº£:** NgÆ°á»i bÃ¡n Ä‘Ã£ xÃ¡c minh vÃ  cÃ³ thá»ƒ Ä‘Äƒng tin bÃ¡n container

---

### 4. ğŸ‘· **Depot Staff** - NhÃ¢n ViÃªn Kho BÃ£i
- **Email:** `depot@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Depot Staff
- **Quyá»n háº¡n:** Quáº£n lÃ½ container trong kho, cáº­p nháº­t tráº¡ng thÃ¡i
- **Tá»• chá»©c:** ContainerHub Depot
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified
- **MÃ´ táº£:** NhÃ¢n viÃªn kho bÃ£i, cÃ³ quyá»n quáº£n lÃ½ container táº¡i depot

---

### 5. ğŸ‘” **Depot Manager** - Quáº£n LÃ½ Kho BÃ£i
- **Email:** `manager@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Depot Manager
- **Quyá»n háº¡n:** Quáº£n lÃ½ toÃ n bá»™ kho, nhÃ¢n viÃªn, bÃ¡o cÃ¡o
- **Tá»• chá»©c:** ContainerHub Depot
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified
- **MÃ´ táº£:** Quáº£n lÃ½ kho bÃ£i cáº¥p cao, cÃ³ quyá»n quáº£n lÃ½ nhÃ¢n viÃªn vÃ  toÃ n bá»™ hoáº¡t Ä‘á»™ng depot

---

### 6. ğŸ” **Inspector** - GiÃ¡m Äá»‹nh ViÃªn
- **Email:** `inspector@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Inspector
- **Quyá»n háº¡n:** GiÃ¡m Ä‘á»‹nh container, táº¡o bÃ¡o cÃ¡o giÃ¡m Ä‘á»‹nh
- **Tá»• chá»©c:** VN Inspection Services
- **Tráº¡ng thÃ¡i:** âœ… Active, Verified
- **MÃ´ táº£:** GiÃ¡m Ä‘á»‹nh viÃªn chuyÃªn nghiá»‡p, cÃ³ quyá»n táº¡o bÃ¡o cÃ¡o giÃ¡m Ä‘á»‹nh container

---

### 7. ğŸ›’ **Buyer 2** - NgÆ°á»i Mua (Chá» XÃ¡c Minh KYC)
- **Email:** `buyer2@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Buyer
- **Quyá»n háº¡n:** Xem, tÃ¬m kiáº¿m (khÃ´ng thá»ƒ mua chÆ°a)
- **Tráº¡ng thÃ¡i:** â³ Active, Email Verified, KYC Pending
- **MÃ´ táº£:** NgÆ°á»i mua má»›i Ä‘Äƒng kÃ½, Ä‘Ã£ xÃ¡c minh email nhÆ°ng chÆ°a hoÃ n táº¥t KYC

---

### 8. ğŸª **Seller 2** - NgÆ°á»i BÃ¡n (ChÆ°a XÃ¡c Minh)
- **Email:** `seller2@example.com`
- **Máº­t kháº©u:** `123456`
- **Vai trÃ²:** Seller
- **Quyá»n háº¡n:** Giá»›i háº¡n (chÆ°a thá»ƒ Ä‘Äƒng tin)
- **Tráº¡ng thÃ¡i:** âš ï¸ Active, Unverified
- **MÃ´ táº£:** NgÆ°á»i bÃ¡n má»›i Ä‘Äƒng kÃ½, chÆ°a xÃ¡c minh email

---

## ğŸ¨ TÃ­nh NÄƒng ÄÄƒng Nháº­p Nhanh

Trang login Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p **8 nÃºt Ä‘Äƒng nháº­p nhanh** vá»›i mÃ u sáº¯c vÃ  icon khÃ¡c nhau:

### MÃ£ mÃ u theo vai trÃ²:
- ğŸ‘‘ **Admin**: Äá» (red-50)
- ğŸ›’ **Buyer**: Xanh dÆ°Æ¡ng (blue-50)
- ğŸª **Seller**: Cam (orange-50)
- ğŸ‘· **Depot Staff**: Xanh lÃ¡ nháº¡t (emerald-50)
- ğŸ‘” **Depot Manager**: TÃ­m (purple-50)
- ğŸ” **Inspector**: Xanh ngá»c (cyan-50)
- ğŸ›’ **Buyer 2**: VÃ ng (yellow-50) - Chá» KYC
- ğŸª **Seller 2**: Há»“ng (pink-50) - ChÆ°a xÃ¡c minh

### CÃ¡ch sá»­ dá»¥ng:
1. Má»Ÿ trang login: `http://localhost:3000/auth/login`
2. Click vÃ o button tÃ i khoáº£n demo báº¡n muá»‘n test
3. ThÃ´ng tin email vÃ  password sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c Ä‘iá»n
4. Click "ÄÄƒng nháº­p" Ä‘á»ƒ truy cáº­p há»‡ thá»‘ng

---

## ğŸ” Quyá»n Háº¡n Chi Tiáº¿t Theo Vai TrÃ²

### Admin (admin@i-contexchange.vn)
- âœ… Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- âœ… Quáº£n lÃ½ vai trÃ² vÃ  quyá»n
- âœ… Quáº£n lÃ½ tá»• chá»©c
- âœ… Quáº£n lÃ½ há»‡ thá»‘ng
- âœ… Xem táº¥t cáº£ bÃ¡o cÃ¡o
- âœ… Quáº£n lÃ½ cáº¥u hÃ¬nh
- âœ… Quáº£n lÃ½ giÃ¡ cáº£
- âœ… Quáº£n lÃ½ tÃ i chÃ­nh
- âœ… Truy cáº­p Ä‘áº§y Ä‘á»§

### Buyer (buyer@example.com) - ÄÃ£ xÃ¡c minh
- âœ… Xem danh sÃ¡ch container
- âœ… TÃ¬m kiáº¿m container
- âœ… Xem chi tiáº¿t container
- âœ… Äáº·t hÃ ng / Mua container
- âœ… Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
- âœ… Quáº£n lÃ½ há»“ sÆ¡ cÃ¡ nhÃ¢n
- â³ KYC: Approved

### Seller (seller@example.com) - ÄÃ£ xÃ¡c minh
- âœ… ÄÄƒng tin bÃ¡n container
- âœ… Quáº£n lÃ½ container cá»§a mÃ¬nh
- âœ… Xem bÃ¡o cÃ¡o bÃ¡n hÃ ng
- âœ… Cáº­p nháº­t thÃ´ng tin container
- âœ… Xem lá»‹ch sá»­ giao dá»‹ch
- âœ… Quáº£n lÃ½ há»“ sÆ¡

### Depot Staff (depot@example.com)
- âœ… Quáº£n lÃ½ container trong depot
- âœ… Cáº­p nháº­t tráº¡ng thÃ¡i container
- âœ… Xem danh sÃ¡ch container
- âœ… Táº¡o bÃ¡o cÃ¡o depot
- ğŸ­ Thuá»™c: ContainerHub Depot

### Depot Manager (manager@example.com)
- âœ… Táº¥t cáº£ quyá»n cá»§a Depot Staff
- âœ… Quáº£n lÃ½ nhÃ¢n viÃªn depot
- âœ… Xem bÃ¡o cÃ¡o tá»•ng há»£p
- âœ… PhÃª duyá»‡t giao dá»‹ch
- âœ… Quáº£n lÃ½ tÃ i chÃ­nh depot
- ğŸ­ Thuá»™c: ContainerHub Depot

### Inspector (inspector@example.com)
- âœ… Xem danh sÃ¡ch container cáº§n giÃ¡m Ä‘á»‹nh
- âœ… Táº¡o bÃ¡o cÃ¡o giÃ¡m Ä‘á»‹nh
- âœ… Cáº­p nháº­t tráº¡ng thÃ¡i giÃ¡m Ä‘á»‹nh
- âœ… Xem lá»‹ch sá»­ giÃ¡m Ä‘á»‹nh
- ğŸ” Thuá»™c: VN Inspection Services

### Buyer 2 (buyer2@example.com) - Chá» KYC
- âœ… Xem danh sÃ¡ch container
- âœ… TÃ¬m kiáº¿m container
- â³ KhÃ´ng thá»ƒ Ä‘áº·t hÃ ng (chá» KYC)
- â³ KYC: Pending

### Seller 2 (seller2@example.com) - ChÆ°a xÃ¡c minh
- âš ï¸ KhÃ´ng thá»ƒ Ä‘Äƒng tin
- âš ï¸ Quyá»n háº¡n bá»‹ giá»›i háº¡n
- âš ï¸ Cáº§n xÃ¡c minh email

---

## ğŸ§ª Ká»‹ch Báº£n Test PhÃ¢n Quyá»n

### Test 1: Quyá»n Admin
1. ÄÄƒng nháº­p báº±ng `admin@i-contexchange.vn`
2. Kiá»ƒm tra menu cÃ³ Ä‘áº§y Ä‘á»§ cÃ¡c má»¥c:
   - Dashboard
   - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
   - Quáº£n lÃ½ vai trÃ²
   - Quáº£n lÃ½ há»‡ thá»‘ng
   - BÃ¡o cÃ¡o
   - Cáº¥u hÃ¬nh

### Test 2: Quyá»n Buyer (ÄÃ£ xÃ¡c minh)
1. ÄÄƒng nháº­p báº±ng `buyer@example.com`
2. Kiá»ƒm tra menu:
   - âœ… Xem container
   - âœ… TÃ¬m kiáº¿m
   - âœ… ÄÆ¡n hÃ ng cá»§a tÃ´i
   - âŒ KhÃ´ng cÃ³ menu admin

### Test 3: Quyá»n Buyer (Chá» KYC)
1. ÄÄƒng nháº­p báº±ng `buyer2@example.com`
2. Kiá»ƒm tra:
   - âœ… CÃ³ thá»ƒ xem container
   - âŒ KhÃ´ng thá»ƒ Ä‘áº·t hÃ ng
   - â³ Hiá»ƒn thá»‹ thÃ´ng bÃ¡o "Chá» xÃ¡c minh KYC"

### Test 4: Quyá»n Seller (ÄÃ£ xÃ¡c minh vs ChÆ°a xÃ¡c minh)
1. ÄÄƒng nháº­p `seller@example.com`:
   - âœ… CÃ³ thá»ƒ Ä‘Äƒng tin
2. ÄÄƒng nháº­p `seller2@example.com`:
   - âŒ KhÃ´ng thá»ƒ Ä‘Äƒng tin
   - âš ï¸ Hiá»ƒn thá»‹ "Cáº§n xÃ¡c minh email"

### Test 5: Quyá»n Depot Staff vs Depot Manager
1. ÄÄƒng nháº­p `depot@example.com`:
   - âœ… Quáº£n lÃ½ container
   - âŒ KhÃ´ng thá»ƒ quáº£n lÃ½ nhÃ¢n viÃªn
2. ÄÄƒng nháº­p `manager@example.com`:
   - âœ… Quáº£n lÃ½ container
   - âœ… Quáº£n lÃ½ nhÃ¢n viÃªn
   - âœ… Xem bÃ¡o cÃ¡o tá»•ng há»£p

### Test 6: Quyá»n Inspector
1. ÄÄƒng nháº­p `inspector@example.com`
2. Kiá»ƒm tra:
   - âœ… Xem danh sÃ¡ch container cáº§n giÃ¡m Ä‘á»‹nh
   - âœ… Táº¡o bÃ¡o cÃ¡o giÃ¡m Ä‘á»‹nh
   - âŒ KhÃ´ng thá»ƒ mua/bÃ¡n container

---

## ğŸ”„ CÃ¡ch Reset Dá»¯ Liá»‡u Demo

Náº¿u cáº§n reset láº¡i dá»¯ liá»‡u demo:

```powershell
# Di chuyá»ƒn vÃ o thÆ° má»¥c backend
cd backend

# Cháº¡y script setup Ä‘Æ¡n giáº£n
.\setup-rbac-simple.ps1

# Hoáº·c cháº¡y thá»§ cÃ´ng
npx prisma db push --force-reset
npx tsx prisma/seed-rbac-complete.ts
```

---

## ğŸ“Š Thá»‘ng KÃª Há»‡ Thá»‘ng RBAC

- **Tá»•ng sá»‘ quyá»n:** 53 permissions (PM-001 Ä‘áº¿n PM-125 vá»›i khoáº£ng trá»‘ng)
- **Tá»•ng sá»‘ vai trÃ²:** 12 roles
- **Tá»•ng sá»‘ tÃ i khoáº£n demo:** 8 users
- **Tá»•ng sá»‘ tá»• chá»©c demo:** 3 organizations

### Danh sÃ¡ch vai trÃ² Ä‘áº§y Ä‘á»§:
1. `guest` - KhÃ¡ch
2. `user` - NgÆ°á»i dÃ¹ng cÆ¡ báº£n
3. `buyer` - NgÆ°á»i mua
4. `seller` - NgÆ°á»i bÃ¡n
5. `depot_staff` - NhÃ¢n viÃªn kho
6. `depot_manager` - Quáº£n lÃ½ kho
7. `inspector` - GiÃ¡m Ä‘á»‹nh viÃªn
8. `moderator` - Kiá»ƒm duyá»‡t viÃªn
9. `price_manager` - Quáº£n lÃ½ giÃ¡
10. `config_manager` - Quáº£n lÃ½ cáº¥u hÃ¬nh
11. `finance` - Quáº£n lÃ½ tÃ i chÃ­nh
12. `admin` - Quáº£n trá»‹ viÃªn

---

## ğŸ“ Ghi ChÃº Quan Trá»ng

### âš ï¸ LÆ°u Ã½ báº£o máº­t:
- Máº­t kháº©u `123456` chá»‰ dÃ¹ng cho mÃ´i trÆ°á»ng development
- **KHÃ”NG BAO GIá»œ** sá»­ dá»¥ng máº­t kháº©u nÃ y trong production
- Trong production, cáº§n:
  - Báº¯t buá»™c máº­t kháº©u máº¡nh (8+ kÃ½ tá»±, chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘, kÃ½ tá»± Ä‘áº·c biá»‡t)
  - Báº­t xÃ¡c thá»±c 2 yáº¿u tá»‘ (2FA)
  - Giá»›i háº¡n sá»‘ láº§n Ä‘Äƒng nháº­p sai

### âœ… Dá»¯ liá»‡u Ä‘Ã£ seed:
- âœ… 53 permissions vá»›i mÃ£ PM-001 Ä‘áº¿n PM-125
- âœ… 12 roles vá»›i phÃ¢n quyá»n chi tiáº¿t
- âœ… 8 demo users vá»›i vai trÃ² khÃ¡c nhau
- âœ… 3 organizations (ContainerHub Depot, VN Inspection, ABC Logistics)
- âœ… Role-Permission mappings
- âœ… User-Role assignments

### ğŸ¯ Má»¥c Ä‘Ã­ch sá»­ dá»¥ng:
- Kiá»ƒm tra phÃ¢n quyá»n menu
- Test cÃ¡c luá»“ng nghiá»‡p vá»¥
- Demo cho khÃ¡ch hÃ ng
- Training cho ngÆ°á»i dÃ¹ng má»›i
- Development vÃ  debugging

---

## ğŸš€ BÆ°á»›c Tiáº¿p Theo

1. âœ… **ÄÃ£ hoÃ n thÃ nh:**
   - Database schema vá»›i RBAC Ä‘áº§y Ä‘á»§
   - Seed data vá»›i 8 tÃ i khoáº£n demo
   - Login page vá»›i quick-login buttons

2. ğŸ”„ **Cáº§n thá»±c hiá»‡n:**
   - Khá»Ÿi Ä‘á»™ng frontend: `npm run dev`
   - Test Ä‘Äƒng nháº­p tá»«ng tÃ i khoáº£n
   - Kiá»ƒm tra menu hiá»ƒn thá»‹ theo role
   - Test cÃ¡c chá»©c nÄƒng theo phÃ¢n quyá»n
   - Kiá»ƒm tra redirect logic

3. ğŸ“‹ **Checklist test:**
   - [ ] Login thÃ nh cÃ´ng vá»›i 8 tÃ i khoáº£n
   - [ ] Menu hiá»ƒn thá»‹ Ä‘Ãºng theo role
   - [ ] Redirect Ä‘Ãºng sau login
   - [ ] Permission check hoáº¡t Ä‘á»™ng
   - [ ] Buyer cÃ³ thá»ƒ xem/mua container
   - [ ] Seller cÃ³ thá»ƒ Ä‘Äƒng tin
   - [ ] Admin cÃ³ full access
   - [ ] Depot staff/manager quáº£n lÃ½ Ä‘Æ°á»£c depot
   - [ ] Inspector táº¡o Ä‘Æ°á»£c bÃ¡o cÃ¡o giÃ¡m Ä‘á»‹nh

---

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á» vá»›i tÃ i khoáº£n demo:
1. Kiá»ƒm tra backend Ä‘ang cháº¡y: `http://localhost:3001`
2. Kiá»ƒm tra database Ä‘Ã£ seed: cháº¡y `npx prisma studio`
3. Reset dá»¯ liá»‡u náº¿u cáº§n: cháº¡y `setup-rbac-simple.ps1`
4. Kiá»ƒm tra log trong console

---

*TÃ i liá»‡u Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng bá»Ÿi GitHub Copilot*
*Cáº­p nháº­t láº§n cuá»‘i: 2024*
